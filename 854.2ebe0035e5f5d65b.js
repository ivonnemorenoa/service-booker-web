"use strict";(self.webpackChunkservice_booker_web=self.webpackChunkservice_booker_web||[]).push([[854],{8854:(E,m,s)=>{s.r(m),s.d(m,{RequestPageModule:()=>Y});var i=s(433),o=s(4650),p=s(6895);const g=function(e){return{selected:e}};function h(e,n){if(1&e&&(o.TgZ(0,"div",1),o._UZ(1,"input",2),o.TgZ(2,"label",3),o._uU(3),o.qZA()()),2&e){const t=n.$implicit,r=n.index,l=o.oxw();o.Q6J("formGroup",t),o.xp6(1),o.Q6J("id",l.id+"-option-"+r),o.xp6(1),o.Q6J("ngClass",o.VKq(5,g,t.value.checked))("for",l.id+"-option-"+r),o.xp6(1),o.hij(" ",t.value.description," ")}}function f(e,n,t){return new i.Oe(e.map(r=>function b(e){return new i.cw({key:new i.NI(e.key),description:new i.NI(e.description),checked:new i.NI(e.checked)})}({key:r.key,description:r.description,checked:n.includes(r.key)})),t)}let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-form-control-checkbox"]],inputs:{id:"id",options:"options"},decls:1,vars:1,consts:[["class","form-control-checkbox",3,"formGroup",4,"ngFor","ngForOf"],[1,"form-control-checkbox",3,"formGroup"],["type","checkbox","formControlName","checked",1,"form-control-checkbox-input",3,"id"],[1,"form-control-checkbox-label",3,"ngClass","for"]],template:function(t,r){1&t&&o.YNc(0,h,4,7,"div",0),2&t&&o.Q6J("ngForOf",r.options)},dependencies:[p.mk,p.sg,i.Wl,i.JJ,i.JL,i.sg,i.u],styles:["[_nghost-%COMP%]{display:flex;-webkit-user-select:none;user-select:none;flex-direction:column}[_nghost-%COMP%]   .form-control-checkbox[_ngcontent-%COMP%]{padding-bottom:5px}[_nghost-%COMP%]   .form-control-checkbox[_ngcontent-%COMP%]   .form-control-checkbox-label[_ngcontent-%COMP%]{padding-left:22px}[_nghost-%COMP%]   .form-control-checkbox[_ngcontent-%COMP%]   .form-control-checkbox-label[_ngcontent-%COMP%]:hover{color:#6c6cd0}"]}),e})();const v=function(e,n){return{"dropdown-item-selected":e,"d-none":n}};function x(e,n){if(1&e){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",4),o.NdJ("click",function(){const u=o.CHM(t).$implicit,c=o.oxw();return o.KtG(c.onSelect(u))}),o._uU(2),o.TgZ(3,"div",5),o.O4$(),o.TgZ(4,"svg",6),o._UZ(5,"path",7),o.qZA()()(),o.BQk()}if(2&e){const t=n.$implicit,r=o.oxw();o.xp6(2),o.hij(" ",t.value.description," "),o.xp6(1),o.Q6J("ngClass",o.WLB(2,v,t.value.key===r.value.value,t.value.key!==r.value.value))}}function _(e,n,t){return new i.cw({value:new i.NI(e,t),options:new i.Oe(n.map(r=>function w(e){return new i.cw({key:new i.NI(e.key),description:new i.NI(e.description)})}(r)))})}let k=(()=>{class e{get options(){return this.formGroup.controls.options.controls}get value(){return this.formGroup.controls.value}get description(){return this.options.filter(t=>t.value.key===this.value.value).map(t=>t.controls.description.value).join("")}onSelect(t){this.value.setValue(t.controls.key.value)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-form-control-select"]],inputs:{id:"id",formGroup:"formGroup"},decls:5,vars:5,consts:[[1,"dropdown"],["type","button","data-bs-toggle","dropdown","data-bs-auto-close","true","aria-expanded","false",1,"form-control","form-input","dropdown-toggle",3,"id","disabled"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"dropdown-item",3,"click"],[3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","d","M4.5 12.75l6 6 9-13.5"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0)(1,"button",1),o._uU(2),o.qZA(),o.TgZ(3,"div",2),o.YNc(4,x,6,5,"ng-container",3),o.qZA()()),2&t&&(o.xp6(1),o.Q6J("id",r.id+"-form-control-select")("disabled",r.formGroup.disabled),o.xp6(1),o.hij(" ",r.description," "),o.xp6(1),o.uIk("aria-labelledby",r.id+"-form-control-select"),o.xp6(1),o.Q6J("ngForOf",r.options))},dependencies:[p.mk,p.sg],styles:[".dropdown-toggle[_ngcontent-%COMP%]{text-align:start}.dropdown-toggle[_ngcontent-%COMP%]:after{position:absolute;right:10px;top:20px}.dropdown-menu[_ngcontent-%COMP%]{border:none;background:#ffffff;box-shadow:0 0 0 1px #98a1b31a,0 15px 35px -5px #11182626,0 5px 15px #00000014;border-radius:8px;width:100%;padding:0}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{height:44px;display:flex;align-items:center;cursor:pointer;justify-content:space-between;-webkit-user-select:none;user-select:none}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover:first-child{border-top-right-radius:8px;border-top-left-radius:8px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover:last-child{border-bottom-right-radius:8px;border-bottom-left-radius:8px}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-item-selected[_ngcontent-%COMP%]{scale:.7;color:#1c53de;display:block}.dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]   .dropdown-item-selected[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{stroke-width:3px;width:20px}"]}),e})();var y=s(9361);function Z(e,n){1&e&&(o.TgZ(0,"span",6),o._uU(1,"*"),o.qZA())}function M(e,n){if(1&e&&(o.TgZ(0,"label",4),o._uU(1),o.YNc(2,Z,2,0,"span",5),o.qZA()),2&e){const t=o.oxw();o.Q6J("id",t.id+"-title")("for",t.id),o.xp6(1),o.hij(" ",t.title," "),o.xp6(1),o.Q6J("ngIf",t.required)}}function F(e,n){1&e&&(o.TgZ(0,"div"),o._uU(1," Campo requerido. "),o.qZA())}function T(e,n){if(1&e&&(o.TgZ(0,"div",10),o._uU(1),o.qZA()),2&e){const t=o.oxw(2);o.Q6J("id",t.id+"-exception"),o.xp6(1),o.hij(" ",t.errors[0]," ")}}function O(e,n){if(1&e&&(o.TgZ(0,"div",7),o.YNc(1,F,2,0,"div",8),o.YNc(2,T,2,2,"div",9),o.qZA()),2&e){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.abstractControl||null==t.abstractControl.errors?null:t.abstractControl.errors.required),o.xp6(1),o.Q6J("ngIf",!(null!=t.abstractControl&&null!=t.abstractControl.errors&&t.abstractControl.errors.required)&&t.errors.length>0)}}const q=function(e,n){return{"form-group-invalid":e,"form-group-valid":n}},P=["*"];let J=(()=>{class e{get errors(){return this._errors}constructor(t){this.changeDetectorRef=t,this.required=!0,this._errors=[]}ngOnInit(){}ngDoCheck(){this.detectErrors()}detectErrors(){const t=[];for(const r in this.abstractControl?.errors)"required"!==r&&Object.prototype.hasOwnProperty.call(this.abstractControl?.errors,r)&&t.push(this.abstractControl?.errors[r]);this.changeDetectorRef.detectChanges(),this._errors=t}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(o.sBO))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-form-group"]],inputs:{id:"id",title:"title",required:"required",abstractControl:"abstractControl"},ngContentSelectors:P,decls:5,vars:6,consts:[[1,"form-group-component",3,"ngClass"],["class","form-group-label",3,"id","for",4,"ngIf"],[1,"form-group-content"],["class","form-group-warning",4,"ngIf"],[1,"form-group-label",3,"id","for"],["class","form-group-required",4,"ngIf"],[1,"form-group-required"],[1,"form-group-warning"],[4,"ngIf"],[3,"id",4,"ngIf"],[3,"id"]],template:function(t,r){1&t&&(o.F$t(),o.TgZ(0,"div",0),o.YNc(1,M,3,4,"label",1),o.TgZ(2,"div",2),o.Hsn(3),o.qZA(),o.YNc(4,O,3,2,"div",3),o.qZA()),2&t&&(o.Q6J("ngClass",o.WLB(3,q,(null==r.abstractControl?null:r.abstractControl.invalid)&&(null==r.abstractControl?null:r.abstractControl.touched),(null==r.abstractControl?null:r.abstractControl.valid)&&(null==r.abstractControl?null:r.abstractControl.touched))),o.xp6(1),o.Q6J("ngIf",r.title||""===r.title),o.xp6(3),o.Q6J("ngIf",!(null!=r.abstractControl&&r.abstractControl.valid)&&(null==r.abstractControl?null:r.abstractControl.touched)))},dependencies:[p.mk,p.O5],styles:[".form-group-component{text-align:left}.form-group-component .form-group-label{font-style:normal;font-weight:500;color:var(--bs-base-dark-light);text-align:left}.form-group-component .form-group-label .form-group-required{color:red}.form-group-component .form-group-content{margin-top:.5rem;position:relative}.form-group-component .form-group-warning{font-size:10px;font-weight:500;line-height:17px;color:var(--bs-danger)}.form-control,.form-textarea,.form-select{background-color:var(--bs-base-light)}.form-control{font-weight:500;height:40px;font-style:normal;font-weight:400;border-radius:6px;color:var(--bs-base-dark-light)}.form-control::placeholder{font-size:13px;font-weight:500;line-height:22px;color:var(--bs-base-dark-lighter)}.form-textarea{height:130px;padding:1rem}.form-select{height:47px;font-weight:500;font-size:16px;line-height:19px;display:flex;align-items:center;white-space:nowrap}.form-select option{color:var(--bs-base-dark-light);font-weight:500;font-size:16px;line-height:19px}.form-select.form-select-placeholder{font-size:13px;font-weight:500;line-height:22px;color:var(--bs-base-dark-lighter)}.btn-sm,.form-select-sm,.form-control-sm{height:30px;min-height:30px}.form-group-valid .form-control,.form-group-valid .form-select,.form-group-valid .form-textarea{border:1px solid var(--bs-primary)!important}.form-group-invalid .form-control,.form-group-invalid .form-select,.form-group-invalid .form-textarea{border:1px solid var(--bs-danger)!important}\n"],encapsulation:2}),e})(),I=(()=>{class e{get description(){return this.options.filter(t=>t.value.checked).map(t=>t.value.description).join(", ")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-form-control-select-multi"]],inputs:{id:"id",placeholder:"placeholder",options:"options"},decls:4,vars:4,consts:[[1,"dropdown"],["data-bs-toggle","dropdown","aria-expanded","false","data-bs-auto-close","outside","readonly","",1,"form-control","form-input","dropdown-toggle",3,"placeholder","value"],[1,"dropdown-menu","p-3"],[3,"id","options"]],template:function(t,r){1&t&&(o.TgZ(0,"div",0),o._UZ(1,"input",1),o.TgZ(2,"div",2),o._UZ(3,"app-form-control-checkbox",3),o.qZA()()),2&t&&(o.xp6(1),o.Q6J("placeholder",r.placeholder)("value",r.description),o.xp6(2),o.Q6J("id",r.id)("options",r.options))},dependencies:[C],styles:[".dropdown-toggle[_ngcontent-%COMP%]{text-align:start}.dropdown-toggle[_ngcontent-%COMP%]:after{position:absolute;right:10px;top:20px}.dropdown-menu[_ngcontent-%COMP%]{border:none;background:#ffffff;box-shadow:0 0 0 1px #98a1b31a,0 15px 35px -5px #11182626,0 5px 15px #00000014;border-radius:8px}"]}),e})();var d=s(8407);const N=[25.6558881,-100.2644069];let S=(()=>{class e{constructor(){}ngAfterViewInit(){const t=d.map("map").setView(N,10);d.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}).addTo(t);const r={icon:d.icon({iconSize:[40,40],iconUrl:"./assets/images/map-icon.jpg"})};t.on("click",l=>this.onMapClick(l,t,r))}onMapClick(t,r,l){this.marker?this.marker.setLatLng(t.latlng):(this.marker=d.marker(t.latlng,l),this.marker.addTo(r))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-map-location"]],decls:1,vars:0,consts:[["id","map",1,"map-location"]],template:function(t,r){1&t&&o._UZ(0,"div",0)},styles:[".map-location[_ngcontent-%COMP%]{padding:2px}#map[_ngcontent-%COMP%]{height:300px}"]}),e})();function U(e){if(e<0||e>=24)throw new Error("El valor de hora debe estar entre 0 y 23.99.");const t=e<12?"am":"pm",l=e%1==.5?"30":"00";return`${(e%12==0?12:e%12).toString().padStart(2,"0")}:${l} ${t}`}let A=(()=>{class e{get name(){return this.form.controls.name}get phone(){return this.form.get("phone")}get date(){return this.form.get("date")}get time(){return this.form.get("time")}get services(){return this.form.get("services")}get servicesTypes(){return this.services.controls}get problem(){return this.form.get("problem")}get address(){return this.form.get("address")}get references(){return this.form.get("references")}get latitudes(){return this.form.get("latitudes")}get longitud(){return this.form.get("longitud")}constructor(t){this.formBuilder=t;const c=[];for(let a=10;a<=22;a+=2)c.push({key:a,description:U(a)});console.log(c),this.form=this.formBuilder.group({name:new i.NI("",[i.kI.required]),phone:new i.NI("",[i.kI.required]),date:new i.NI(new Date,[this.futureDateValidator]),time:_(c[0].key,c),services:f([{key:"s1",description:"servicio mantenimiento 1"},{key:"s2",description:"servicio mantenimiento 2"}],["s1"]),problem:new i.NI("",[i.kI.required]),address:new i.NI("",[i.kI.required]),references:new i.NI("",[i.kI.required]),latitudes:new i.NI(null,[i.kI.required]),longitud:new i.NI(null,[i.kI.required])})}futureDateValidator(t){const r=new Date(t.value),l=new Date;return l.setHours(0,0,0,0),r.setHours(0,0,0,0),console.log(r),console.log(l),r.getTime()<l.getTime()?{pastDate:!0}:null}onSubmit(){console.log(this.form.value)}}return e.\u0275fac=function(t){return new(t||e)(o.Y36(i.qu))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-request-page"]],decls:33,vars:23,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-6"],[3,"label","fc"],["type","text","id","name","formControlName","name","placeholder","Nombre y Apellido",1,"form-control"],["type","text","id","phone","formControlName","phone","placeholder","Telefono Celular",1,"form-control"],["type","date","id","date","formControlName","date","placeholder","fecha",1,"form-control"],[3,"id","title","abstractControl"],[3,"id","formGroup"],["placeholder","Servicios",3,"id","options"],["type","text","id","problem","formControlName","problem","placeholder","Ej. El minisplit de 1 TN esta goteando por dentro de la casa",1,"form-control"],["type","submit","value","Enviar"],["type","text","id","address","formControlName","address","placeholder","Calle #, Colonia, CP, Municipio ",1,"form-control"],["type","text","id","references","formControlName","references","placeholder","Casa de dos pisos frente a un parque con un barandal negro ",1,"form-control"]],template:function(t,r){1&t&&(o.TgZ(0,"form",0),o.NdJ("ngSubmit",function(){return r.onSubmit()}),o.TgZ(1,"div",1)(2,"div",2),o._UZ(3,"br"),o.TgZ(4,"app-input-group",3),o._UZ(5,"input",4),o.qZA(),o._UZ(6,"br"),o.TgZ(7,"app-input-group",3),o._UZ(8,"input",5),o.qZA(),o._UZ(9,"br"),o.TgZ(10,"app-input-group",3),o._UZ(11,"input",6),o.qZA(),o._UZ(12,"br"),o.TgZ(13,"app-form-group",7),o._UZ(14,"app-form-control-select",8),o.qZA(),o._UZ(15,"br"),o.TgZ(16,"app-form-group",7),o._UZ(17,"app-form-control-select-multi",9),o.qZA(),o._UZ(18,"br"),o.TgZ(19,"app-input-group",3),o._UZ(20,"input",10),o.qZA(),o._UZ(21,"br")(22,"br")(23,"input",11),o.qZA(),o.TgZ(24,"div",2),o._UZ(25,"br"),o.TgZ(26,"app-input-group",3),o._UZ(27,"input",12),o.qZA(),o._UZ(28,"br"),o.TgZ(29,"app-input-group",3),o._UZ(30,"input",13),o.qZA(),o._UZ(31,"br")(32,"app-map-location"),o.qZA()()()),2&t&&(o.Q6J("formGroup",r.form),o.xp6(4),o.Q6J("label","Nombre:")("fc",r.name),o.xp6(3),o.Q6J("label","Celular:")("fc",r.phone),o.xp6(3),o.Q6J("label","Fecha:")("fc",r.date),o.xp6(3),o.Q6J("id","time")("title","Hora:")("abstractControl",r.time.controls.value),o.xp6(1),o.Q6J("id","time")("formGroup",r.time),o.xp6(2),o.Q6J("id","services")("title","Servicios:")("abstractControl",r.services),o.xp6(1),o.Q6J("id","services")("options",r.servicesTypes),o.xp6(2),o.Q6J("label","Descripci\xf3n de la problematica:")("fc",r.problem),o.xp6(7),o.Q6J("label","Direcci\xf3n:")("fc",r.address),o.xp6(3),o.Q6J("label","Referencias de ubicaci\xf3n:")("fc",r.references))},dependencies:[i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u,y.g,J,k,I,S]}),e})();var Q=s(3180),G=s(3388);let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[p.ez]}),e})();var L=s(5487),B=s(3128);let D=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[p.ez,i.UX,B.V]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[p.ez]}),e})();const z=[{path:"",component:A}];let Y=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[i.UX,G.n,j,L.l,D,Q.Bz.forChild(z),R]}),e})()}}]);